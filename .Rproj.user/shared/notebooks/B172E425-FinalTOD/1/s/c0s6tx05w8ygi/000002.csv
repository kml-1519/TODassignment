"0","#When changes in population and rent are displayed in the form of graduated symbols within a half mile of metro stations, the visualizations allow us make similar assumptions as those detailed above. In regards to potential explanations for similar increases in population between both TOD and non-TOD areas - while rent in TOD areas has increased dramatically-  TOD areas prove to be attractive, but maybe prohibitively costly to most.  "
"0",""
"0","#Arrange 2000 and 2019 Graduated Symbol Maps "
"0","#Create Buffer around metro stations "
"0",""
"0","metro_stations <- "
"0","  st_read(""/Users/kmlum/OneDrive/Documents/FALL 2021/Public Policy Analytics/GitHub/TODassignment/Metro_Station_Entrances_in_DC.geojson"") %>% "
"0","  st_transform(st_crs(allTracts))"
"1","Reading layer `"
"1","Metro_Station_Entrances_in_DC"
"1","' from data source "
"1","
"
"1","  "
"1","`"
"1","C:\Users\kmlum\OneDrive\Documents\FALL 2021\Public Policy Analytics\GitHub\TODassignment\Metro_Station_Entrances_in_DC.geojson"
"1","' "
"1","
"
"1","  "
"1","using driver `"
"1","GeoJSON"
"1","'"
"1","
"
"1","Simple feature collection with 113 features and 11 fields"
"1","
"
"1","Geometry type: POINT
"
"1","Dimension:     XY
"
"1","Bounding box:  "
"1","xmin: -77.08577 ymin: 38.84465 xmax: -76.93472 ymax: 38.97589"
"1","
"
"1","Geodetic CRS:  WGS 84
"
"0","metroStation_Buffers <- st_buffer(metro_stations, 2640) %>%"
"0","  mutate(Legend = ""Buffer"")"
"0",""
"0","stations00 <- st_intersection(dcTracts00,metroStation_Buffers)"
"2","Warning:"
"2"," attribute variables are assumed to be spatially constant throughout all geometries
"
"0","stations19 <- st_intersection(dcTracts19,metroStation_Buffers)"
"2","Warning:"
"2"," attribute variables are assumed to be spatially constant throughout all geometries
"
"0","station_var00 <- stations00 %>%"
"0","  st_drop_geometry() %>% "
"0","  group_by(year, NAME) %>%"
"0","  summarize(Population = sum(TotalPop), Rent = mean(MedRent), na.rm = T)"
"1","`summarise()` has grouped output by 'year'. You can override using the `.groups` argument.
"
"0","station_var19 <- stations19 %>%"
"0","  st_drop_geometry() %>% "
"0","  group_by(year, NAME) %>%"
"0","  summarize(Population = sum(TotalPop), Rent = mean(MedRent), na.rm = T)"
"1","`summarise()` has grouped output by 'year'. You can override using the `.groups` argument.
"
"0","joined_metro_stops00 <- left_join(metro_stations, station_var00)"
"1","Joining, by = ""NAME""
"
"0","joined_metro_stops19 <- left_join(metro_stations, station_var19)"
"1","Joining, by = ""NAME""
"
"0","#Graduate Symbols showing Population (within 0.5 miles of each metro station) "
"0","#2000"
"0","ggplot() + "
"0","  geom_sf(data=allTracts, fill=""lightgray"") +"
"0","  geom_sf(data=joined_metro_stops00, aes(size = Population), colour=""#2CA25F"") +"
"0","  labs(title = ""Total Population within 0.5 miles of each Metro Station"", subtitle = ""2000"", caption = ""Figure 2.1"") +"
"0","  mapTheme()"
