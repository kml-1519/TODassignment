"0","#Set a Buffer Zone"
"0","metro_buffers <- "
"0","  rbind("
"0","    st_buffer(metro_stops, 2640) %>%"
"0","      mutate(Legend = ""Buffer"") %>%"
"0","      dplyr::select(Legend),"
"0","    st_union(st_buffer(metro_stops, 2640)) %>%"
"0","      st_sf() %>%"
"0","      mutate(Legend = ""Unioned Buffer""))"
"0",""
"0","#Set a Unioned Buffer"
"0","buffer <- filter(metro_buffers, Legend == ""Unioned Buffer"")"
"0",""
"0","#Selecting D.C. Tracts with their centroid in the buffer zone"
"0","selectCentroids <- "
"0","  st_centroid(allTracts)[buffer,] %>% "
"0","  st_drop_geometry() %>%"
"0","  left_join(dplyr::select(allTracts,GEOID)) %>%"
"0","  st_sf() %>%"
"0","  dplyr::select(year,TotalPop, MedRent,TotalOHU,pctRenter, MedHHInc) %>%"
"0","  mutate(Selection_Type = ""Select by Centroids"")"
"2","Warning in st_centroid.sf(allTracts) :"
"2","
 "
"2"," st_centroid assumes attributes are constant over geometries of x
"
"1","Joining, by = ""GEOID""
"
"0","#2000"
"0",""
"0","selectCentroids00 <- "
"0","  st_centroid(dcTracts00)[buffer,] %>% "
"0","  st_drop_geometry() %>%"
"0","  left_join(dplyr::select(dcTracts00, GEOID)) %>%"
"0","  st_sf() %>%"
"0","  dplyr::select(year,TotalPop, MedRent,TotalOHU,pctRenter, MedHHInc) %>%"
"0","  mutate(Selection_Type = ""Select by Centroids"")"
"2","Warning in st_centroid.sf(dcTracts00) :"
"2","
 "
"2"," st_centroid assumes attributes are constant over geometries of x
"
"1","Joining, by = ""GEOID""
"
"0","#2019"
"0",""
"0","selectCentroids19 <- "
"0","  st_centroid(dcTracts19)[buffer,] %>% "
"0","  st_drop_geometry() %>%"
"0","  left_join(dplyr::select(dcTracts19, GEOID)) %>%"
"0","  st_sf() %>%"
"0","  dplyr::select(year,TotalPop, MedRent,TotalOHU,pctRenter, MedHHInc) %>%"
"0","  mutate(Selection_Type = ""Select by Centroids"")"
"2","Warning in st_centroid.sf(dcTracts19) :"
"2","
 "
"2"," st_centroid assumes attributes are constant over geometries of x
"
"1","Joining, by = ""GEOID""
"
"0","#Setup continued "
"0",""
"0","allTracts.group <- "
"0","  rbind("
"0","    st_centroid(allTracts)[buffer,] %>%"
"0","      st_drop_geometry() %>%"
"0","      left_join(allTracts) %>%"
"0","      st_sf() %>%"
"0","      mutate(TOD = ""TOD""),"
"0","    st_centroid(allTracts)[buffer, op = st_disjoint] %>%"
"0","      st_drop_geometry() %>%"
"0","      left_join(allTracts) %>%"
"0","      st_sf() %>%"
"0","      mutate(TOD = ""Non-TOD"")) %>%"
"0","  mutate(MedRent.inf = ifelse(year == ""2000"", MedRent * 1.4847, MedRent)) %>%"
"0","mutate(MedHHInc.inf = ifelse(year == ""2000"", MedHHInc * 1.4847, MedHHInc))"
"2","Warning in st_centroid.sf(allTracts) :"
"2","
 "
"2"," st_centroid assumes attributes are constant over geometries of x
"
"1","Joining, by = c(""GEOID"", ""TotalOHU"", ""TotalOO"", ""TotalRO"", ""MedRent"", ""TotalPop"", ""MedHHInc"", ""pctBlk"", ""pctRenter"", ""pctOwner"", ""pctPoverty"", ""year"")
"
"2","Warning in st_centroid.sf(allTracts) :"
"2","
 "
"2"," st_centroid assumes attributes are constant over geometries of x
"
"1","Joining, by = c(""GEOID"", ""TotalOHU"", ""TotalOO"", ""TotalRO"", ""MedRent"", ""TotalPop"", ""MedHHInc"", ""pctBlk"", ""pctRenter"", ""pctOwner"", ""pctPoverty"", ""year"")
"
"0","#TOD Tracts"
"0","tod_areas <- allTracts.group %>%"
"0","  dplyr::select(TOD)%>%"
"0","  filter(TOD==""TOD"")"
"0",""
"0","AllTOD_Tracts <- st_union(tod_areas)%>%"
"0","  st_sf()"
"0",""
