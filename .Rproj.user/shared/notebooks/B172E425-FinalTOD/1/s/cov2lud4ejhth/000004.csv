"0",""
"0",""
"0","#Line Plot setup"
"0",""
"0","dcBuffers2 <- rbind("
"0","  st_buffer(metro_stations,2640) %>% "
"0","    mutate(Legend = ""Buffer"") %>% "
"0","    dplyr::select(Legend),"
"0","  st_union(st_buffer(metro_stations,2640)) %>% "
"0","    st_sf() %>% "
"0","    mutate(Legend = ""Unionized Buffer""),"
"0","  st_union(st_buffer(metro_stations,1)) %>% "
"0","    st_sf() %>% "
"0","    mutate(Legend = ""1-foot Buffer"")"
"0",")"
"0",""
"0","buffer2 <- filter(dcBuffers2, Legend==""Unionized Buffer"")"
"0","onefoot2 <- filter(dcBuffers2, Legend==""1-foot Buffer"")"
"0",""
"0","allTracts.rings <-"
"0","  st_join(st_centroid(dplyr::select(allTracts, GEOID, year)), "
"0","          multipleRingBuffer(onefoot2, 26400, 2640)) %>%"
"0","  st_drop_geometry() %>%"
"0","  left_join(dplyr::select(allTracts, GEOID, MedRent, year), "
"0","            by=c(""GEOID""=""GEOID"", ""year""=""year"")) %>%"
"0","  st_sf() %>%"
"0","  mutate(distance = distance / 5280) #convert to miles"
"0",""
"0","#Line plot"
"0","allTracts.rings_summary <-"
"0","  allTracts.rings %>%"
"0","  st_drop_geometry() %>%"
"0","  group_by(distance, year) %>%"
"0","  summarize(Rent = mean(MedRent, na.rm=T)) "
"1","`summarise()` has grouped output by 'distance'. You can override using the `.groups` argument.
"
"0","ggplot(data=allTracts.rings_summary,"
"0","       aes(x = distance, y = Rent, colour = year)) + geom_point()+geom_line()+"
"0","  labs(title = ""Rent as a Function of Distance to Metro Stations"", caption = ""Figure 3.2"")"
"0",""
